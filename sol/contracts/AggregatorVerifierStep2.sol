// SPDX-License-Identifier: MIT
// Tells the Solidity compiler to compile only from v0.8.13 to v0.9.0
pragma solidity ^0.8.13;

import "./AggregatorLib.sol";

contract AggregatorVerifierCoreStep2 {
    function verify_proof(
        uint256[] calldata transcript,
        uint256[] calldata aux,
        uint256[] memory buf
    ) public view returns (uint256[] memory)  {
        buf[21] = mulmod(addmod(mulmod(addmod(mulmod(buf[21], buf[5], AggregatorLib.q_mod), mulmod(buf[24], buf[29], AggregatorLib.q_mod), AggregatorLib.q_mod), buf[5], AggregatorLib.q_mod), mulmod(buf[28], transcript[107], AggregatorLib.q_mod), AggregatorLib.q_mod), buf[5], AggregatorLib.q_mod);
buf[24] = addmod(addmod(mulmod(transcript[74], buf[2], AggregatorLib.q_mod), transcript[75], AggregatorLib.q_mod), buf[3], AggregatorLib.q_mod);
buf[24] = addmod(mulmod(addmod(mulmod(buf[24], addmod(transcript[108], AggregatorLib.q_mod - transcript[107], AggregatorLib.q_mod), AggregatorLib.q_mod), transcript[106], AggregatorLib.q_mod), addmod(addmod(mulmod(transcript[73], buf[2], AggregatorLib.q_mod), transcript[56], AggregatorLib.q_mod), buf[3], AggregatorLib.q_mod), AggregatorLib.q_mod), AggregatorLib.q_mod - buf[24], AggregatorLib.q_mod);
buf[21] = mulmod(addmod(mulmod(addmod(buf[21], mulmod(buf[22], transcript[110], AggregatorLib.q_mod), AggregatorLib.q_mod), buf[5], AggregatorLib.q_mod), mulmod(buf[24], buf[29], AggregatorLib.q_mod), AggregatorLib.q_mod), buf[5], AggregatorLib.q_mod);
buf[22] = addmod(mulmod(addmod(transcript[111], AggregatorLib.q_mod - transcript[110], AggregatorLib.q_mod), addmod(addmod(mulmod(18, buf[2], AggregatorLib.q_mod), transcript[57], AggregatorLib.q_mod), buf[3], AggregatorLib.q_mod), AggregatorLib.q_mod), AggregatorLib.q_mod - 1, AggregatorLib.q_mod);
buf[21] = addmod(mulmod(addmod(buf[21], mulmod(buf[28], addmod(transcript[110], AggregatorLib.q_mod - transcript[109], AggregatorLib.q_mod), AggregatorLib.q_mod), AggregatorLib.q_mod), buf[5], AggregatorLib.q_mod), mulmod(buf[22], buf[29], AggregatorLib.q_mod), AggregatorLib.q_mod);
buf[20] = addmod(mulmod(buf[7], addmod(mulmod(buf[7], addmod(buf[20], transcript[88], AggregatorLib.q_mod), AggregatorLib.q_mod), AggregatorLib.fr_div(buf[21], buf[27], aux[13]), AggregatorLib.q_mod), AggregatorLib.q_mod), transcript[79], AggregatorLib.q_mod);
buf[17] = addmod(buf[9], AggregatorLib.q_mod - buf[17], AggregatorLib.q_mod);
buf[21] = addmod(buf[9], AggregatorLib.q_mod - buf[19], AggregatorLib.q_mod);
buf[22] = mulmod(1426404432721484388505361748317961535523355871255605456897797744433766488507, buf[6], AggregatorLib.q_mod);
buf[24] = addmod(buf[9], AggregatorLib.q_mod - buf[22], AggregatorLib.q_mod);
buf[27] = AggregatorLib.fr_div(1, buf[24], aux[14]);
buf[28] = mulmod(mulmod(mulmod(buf[17], buf[21], AggregatorLib.q_mod), buf[24], AggregatorLib.q_mod), buf[27], AggregatorLib.q_mod);
buf[29] = AggregatorLib.q_mod - buf[30];
buf[30] = AggregatorLib.q_mod - buf[32];
buf[31] = mulmod(buf[7], addmod(mulmod(addmod(mulmod(buf[23], transcript[53], AggregatorLib.q_mod), mulmod(buf[26], transcript[54], AggregatorLib.q_mod), AggregatorLib.q_mod), buf[9], AggregatorLib.q_mod), addmod(mulmod(buf[29], transcript[53], AggregatorLib.q_mod), mulmod(buf[30], transcript[54], AggregatorLib.q_mod), AggregatorLib.q_mod), AggregatorLib.q_mod), AggregatorLib.q_mod);
buf[31] = addmod(buf[31], addmod(mulmod(addmod(mulmod(buf[23], transcript[101], AggregatorLib.q_mod), mulmod(buf[26], transcript[102], AggregatorLib.q_mod), AggregatorLib.q_mod), buf[9], AggregatorLib.q_mod), addmod(mulmod(buf[29], transcript[101], AggregatorLib.q_mod), mulmod(buf[30], transcript[102], AggregatorLib.q_mod), AggregatorLib.q_mod), AggregatorLib.q_mod), AggregatorLib.q_mod);
buf[31] = addmod(mulmod(buf[7], buf[31], AggregatorLib.q_mod), addmod(mulmod(addmod(mulmod(buf[23], transcript[104], AggregatorLib.q_mod), mulmod(buf[26], transcript[105], AggregatorLib.q_mod), AggregatorLib.q_mod), buf[9], AggregatorLib.q_mod), addmod(mulmod(buf[29], transcript[104], AggregatorLib.q_mod), mulmod(buf[30], transcript[105], AggregatorLib.q_mod), AggregatorLib.q_mod), AggregatorLib.q_mod), AggregatorLib.q_mod);
buf[31] = addmod(mulmod(buf[7], buf[31], AggregatorLib.q_mod), addmod(mulmod(addmod(mulmod(buf[23], transcript[110], AggregatorLib.q_mod), mulmod(buf[26], transcript[111], AggregatorLib.q_mod), AggregatorLib.q_mod), buf[9], AggregatorLib.q_mod), addmod(mulmod(buf[29], transcript[110], AggregatorLib.q_mod), mulmod(buf[30], transcript[111], AggregatorLib.q_mod), AggregatorLib.q_mod), AggregatorLib.q_mod), AggregatorLib.q_mod);
buf[24] = mulmod(mulmod(buf[17], buf[24], AggregatorLib.q_mod), buf[27], AggregatorLib.q_mod);
buf[18] = mulmod(buf[8], addmod(mulmod(buf[8], addmod(mulmod(buf[8], buf[18], AggregatorLib.q_mod), mulmod(buf[20], buf[28], AggregatorLib.q_mod), AggregatorLib.q_mod), AggregatorLib.q_mod), mulmod(buf[31], buf[24], AggregatorLib.q_mod), AggregatorLib.q_mod), AggregatorLib.q_mod);
buf[20] = AggregatorLib.fr_div(1, addmod(buf[6], AggregatorLib.q_mod - buf[22], AggregatorLib.q_mod), aux[15]);
buf[31] = mulmod(buf[23], buf[20], AggregatorLib.q_mod);
buf[32] = AggregatorLib.fr_div(1, addmod(buf[19], AggregatorLib.q_mod - buf[22], AggregatorLib.q_mod), aux[16]);
buf[33] = mulmod(buf[26], buf[32], AggregatorLib.q_mod);
buf[34] = AggregatorLib.fr_div(1, addmod(buf[22], AggregatorLib.q_mod - buf[6], AggregatorLib.q_mod), aux[17]);
buf[35] = AggregatorLib.fr_div(1, addmod(buf[22], AggregatorLib.q_mod - buf[19], AggregatorLib.q_mod), aux[18]);
buf[36] = mulmod(buf[34], buf[35], AggregatorLib.q_mod);
buf[37] = mulmod(buf[20], buf[22], AggregatorLib.q_mod);
buf[20] = addmod(mulmod(buf[29], buf[20], AggregatorLib.q_mod), AggregatorLib.q_mod - mulmod(buf[23], buf[37], AggregatorLib.q_mod), AggregatorLib.q_mod);
buf[22] = mulmod(buf[32], buf[22], AggregatorLib.q_mod);
buf[23] = addmod(mulmod(buf[30], buf[32], AggregatorLib.q_mod), AggregatorLib.q_mod - mulmod(buf[26], buf[22], AggregatorLib.q_mod), AggregatorLib.q_mod);
buf[26] = AggregatorLib.q_mod - mulmod(buf[34], buf[6], AggregatorLib.q_mod);
buf[19] = mulmod(buf[35], buf[19], AggregatorLib.q_mod);
buf[32] = addmod(mulmod(buf[26], buf[35], AggregatorLib.q_mod), AggregatorLib.q_mod - mulmod(buf[34], buf[19], AggregatorLib.q_mod), AggregatorLib.q_mod);
buf[34] = addmod(mulmod(addmod(addmod(mulmod(buf[31], transcript[56], AggregatorLib.q_mod), mulmod(buf[33], transcript[59], AggregatorLib.q_mod), AggregatorLib.q_mod), mulmod(buf[36], transcript[61], AggregatorLib.q_mod), AggregatorLib.q_mod), buf[9], AggregatorLib.q_mod), addmod(addmod(mulmod(buf[20], transcript[56], AggregatorLib.q_mod), mulmod(buf[23], transcript[59], AggregatorLib.q_mod), AggregatorLib.q_mod), mulmod(buf[32], transcript[61], AggregatorLib.q_mod), AggregatorLib.q_mod), AggregatorLib.q_mod);
buf[29] = AggregatorLib.q_mod - mulmod(buf[29], buf[37], AggregatorLib.q_mod);
buf[22] = AggregatorLib.q_mod - mulmod(buf[30], buf[22], AggregatorLib.q_mod);
buf[19] = AggregatorLib.q_mod - mulmod(buf[26], buf[19], AggregatorLib.q_mod);
buf[26] = mulmod(buf[7], addmod(mulmod(buf[34], buf[9], AggregatorLib.q_mod), addmod(addmod(mulmod(buf[29], transcript[56], AggregatorLib.q_mod), mulmod(buf[22], transcript[59], AggregatorLib.q_mod), AggregatorLib.q_mod), mulmod(buf[19], transcript[61], AggregatorLib.q_mod), AggregatorLib.q_mod), AggregatorLib.q_mod), AggregatorLib.q_mod);
buf[20] = addmod(mulmod(addmod(addmod(mulmod(buf[31], transcript[57], AggregatorLib.q_mod), mulmod(buf[33], transcript[58], AggregatorLib.q_mod), AggregatorLib.q_mod), mulmod(buf[36], transcript[60], AggregatorLib.q_mod), AggregatorLib.q_mod), buf[9], AggregatorLib.q_mod), addmod(addmod(mulmod(buf[20], transcript[57], AggregatorLib.q_mod), mulmod(buf[23], transcript[58], AggregatorLib.q_mod), AggregatorLib.q_mod), mulmod(buf[32], transcript[60], AggregatorLib.q_mod), AggregatorLib.q_mod), AggregatorLib.q_mod);
buf[19] = addmod(buf[26], addmod(mulmod(buf[20], buf[9], AggregatorLib.q_mod), addmod(addmod(mulmod(buf[29], transcript[57], AggregatorLib.q_mod), mulmod(buf[22], transcript[58], AggregatorLib.q_mod), AggregatorLib.q_mod), mulmod(buf[19], transcript[60], AggregatorLib.q_mod), AggregatorLib.q_mod), AggregatorLib.q_mod), AggregatorLib.q_mod);
buf[20] = mulmod(buf[17], buf[27], AggregatorLib.q_mod);
buf[18] = addmod(buf[18], mulmod(buf[19], buf[20], AggregatorLib.q_mod), AggregatorLib.q_mod);
(buf[12], buf[13]) = (1, 21888242871839275222246405745257275088696311157297823662689037894645226208581);
buf[14] = buf[18];
AggregatorLib.ecc_mul(buf, 12);
buf[19] = mulmod(buf[8], buf[8], AggregatorLib.q_mod);
buf[22] = mulmod(buf[19], buf[28], AggregatorLib.q_mod);
buf[23] = mulmod(buf[7], buf[7], AggregatorLib.q_mod);
buf[26] = mulmod(buf[23], buf[23], AggregatorLib.q_mod);
buf[27] = mulmod(buf[26], buf[26], AggregatorLib.q_mod);
buf[28] = mulmod(buf[27], buf[27], AggregatorLib.q_mod);
buf[29] = mulmod(buf[28], buf[28], AggregatorLib.q_mod);
buf[30] = mulmod(buf[29], buf[23], AggregatorLib.q_mod);
(buf[14], buf[15]) = (transcript[0], transcript[1]);
buf[16] = mulmod(buf[22], buf[30], AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);
(buf[14], buf[15]) = (transcript[2], transcript[3]);
buf[16] = mulmod(buf[22], mulmod(buf[29], buf[7], AggregatorLib.q_mod), AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);
(buf[14], buf[15]) = (transcript[4], transcript[5]);
buf[16] = mulmod(buf[22], buf[29], AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);
buf[29] = mulmod(buf[28], buf[27], AggregatorLib.q_mod);
buf[31] = mulmod(buf[29], buf[26], AggregatorLib.q_mod);
buf[32] = mulmod(buf[31], buf[23], AggregatorLib.q_mod);
(buf[14], buf[15]) = (transcript[6], transcript[7]);
buf[16] = mulmod(buf[22], mulmod(buf[32], buf[7], AggregatorLib.q_mod), AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);
buf[24] = mulmod(buf[8], buf[24], AggregatorLib.q_mod);
buf[33] = mulmod(buf[23], buf[7], AggregatorLib.q_mod);
(buf[14], buf[15]) = (transcript[8], transcript[9]);
buf[16] = mulmod(buf[24], buf[33], AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);
(buf[14], buf[15]) = (transcript[10], transcript[11]);
buf[16] = mulmod(buf[22], buf[32], AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);
(buf[14], buf[15]) = (transcript[12], transcript[13]);
buf[16] = mulmod(buf[20], buf[7], AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);
(buf[14], buf[15]) = (transcript[14], transcript[15]);
buf[16] = buf[20];
AggregatorLib.ecc_mul_add(buf, 12);
(buf[14], buf[15]) = (transcript[16], transcript[17]);
buf[16] = mulmod(buf[22], mulmod(buf[31], buf[7], AggregatorLib.q_mod), AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);
(buf[14], buf[15]) = (transcript[18], transcript[19]);
buf[16] = mulmod(buf[22], buf[31], AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);
buf[20] = mulmod(buf[28], buf[26], AggregatorLib.q_mod);
buf[31] = mulmod(buf[20], buf[23], AggregatorLib.q_mod);
(buf[14], buf[15]) = (5424683699324395410896623027826716657127172259947821207244112446852981095817, 20446466713213726669095224819440812228749380544617877527900639126461385032981);
buf[16] = mulmod(buf[22], mulmod(buf[31], buf[7], AggregatorLib.q_mod), AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);
(buf[14], buf[15]) = (21234143915148585505989816097186759160798385330308485408955233198910640921607, 15495986673161808558192313471334780754557657886427001336368382438592029257954);
buf[16] = mulmod(buf[22], buf[31], AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);
(buf[14], buf[15]) = (2852623076824445446225338170191308621535144647195778515176957340040778949072, 17119267082731352476032535731430564402039883816075514806789078284038672074651);
buf[16] = mulmod(buf[22], buf[28], AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);
buf[31] = mulmod(buf[27], buf[26], AggregatorLib.q_mod);
buf[32] = mulmod(buf[31], buf[23], AggregatorLib.q_mod);
(buf[14], buf[15]) = (21074302873703574992752046236463852166326694730272402621205852453945436774387, 10651162702189008854604017719676963485100905266392892277529464706590504741106);
buf[16] = mulmod(buf[22], mulmod(buf[32], buf[7], AggregatorLib.q_mod), AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);
(buf[14], buf[15]) = (2900163200167309033748956007791199312383948313915623732394982437372413097862, 14956647042759706539775651211491989884574986849266285061036849488154066491568);
buf[16] = mulmod(buf[22], buf[32], AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);
(buf[14], buf[15]) = (2773476963193125525269363339148721739059050108659478211141138195145787906522, 16890893952010055265582206236432458174895720296033150398676971177165707096605);
buf[16] = mulmod(buf[22], buf[31], AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);
buf[32] = mulmod(buf[27], buf[23], AggregatorLib.q_mod);
(buf[14], buf[15]) = (11783721030949232166863923596419986047882199302542025593795268644089642988685, 11350388118043078580115007306102444541188887557554921027583542843855568201875);
buf[16] = mulmod(buf[22], mulmod(buf[32], buf[7], AggregatorLib.q_mod), AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);
(buf[14], buf[15]) = (17152840015061336438190400094515775666417802225866752159357307757336115071527, 21003394559621344473863410867147669988929434611103863712931707203387829754591);
buf[16] = mulmod(buf[22], mulmod(buf[20], buf[7], AggregatorLib.q_mod), AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);
(buf[14], buf[15]) = (7308507822779982771130399889175507506664856297939693778206617480940885340053, 5498325060270593057536609675800850527254671071181487410642431473446687574564);
buf[16] = mulmod(buf[22], buf[20], AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);
buf[20] = mulmod(buf[28], buf[23], AggregatorLib.q_mod);
(buf[14], buf[15]) = (9123563901703487803307392591545790734868656272899112225140342225928535213798, 8128829625588835035833318064879898476215988575159325146003237188683762051828);
buf[16] = mulmod(buf[22], mulmod(buf[20], buf[7], AggregatorLib.q_mod), AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);
(buf[14], buf[15]) = (20697690184869023289260376654425888417422410745954117069892376941550859372466, 13473504160134284440390066919140064088477433141289018157836601803735436722043);
buf[16] = mulmod(buf[22], buf[20], AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);
(buf[14], buf[15]) = (4925127711906570680825281670686309166360968271583442841667517365603817229924, 18306855487409843527313540045570842820704665706477333885214367130380258776918);
buf[16] = mulmod(buf[22], mulmod(buf[28], buf[7], AggregatorLib.q_mod), AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);
(buf[14], buf[15]) = (6699846154564639579411475224265789143607011721995668466307670763164550540333, 21081831326734010533058156240538575541102375592118975110914198079110235880086);
buf[16] = mulmod(buf[22], buf[29], AggregatorLib.q_mod);
AggregatorLib.ecc_mul_add(buf, 12);


        return buf;
    }
}
